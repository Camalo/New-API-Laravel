## Приложение для работы с балансом пользователей (PHP / Laravel)

### *POST* Начисление

`/api/deposit`

***Запрос:***

```
{
    "user_id": 1,
    "amount": 200.05,
    "comment": "начисление"
}
```

***Ответ:***

``` json
{
    "user_id": 1,
    "amount": 200.05,
    "comment": "начисление"
}
```

***При невалидных параметрах возвращается код 400:***
``` json
{
    "status": "error",
    "message": "Невалидное значение {parameter}"
}
```


### *POST* Списание средств

`/api/withdraw`

***Запрос:***

``` json
{
    "user_id": 1,
    "amount": 179.85,
    "comment": "списание"
}
```

***Ответ:***

``` json
{
    "user_id": 1,
    "amount": 179.85,
    "comment": "списание"
}
```

***При невалидных параметрах возвращается код 400:***
``` json
{
    "status": "error",
    "message": "Невалидное значение {parameter}"
}
```

***Если баланс пользователя не найден возвращается код 404:***
``` json
{
    "status": "error",
    "message": "Баланс пользователя не найден."
}
```

***Если недостаточно среств для списания на балансе, то возвращается код 409:***
``` json
{
    "status": "error",
    "message": "Недостаточно средств для списания"
}
```

### *POST* Перевод между пользователями

`/api/transfer`

***Запрос:***

``` json
{
  "from_user_id": 2,
  "to_user_id": 1,
  "amount": 500.00,
  "comment": "Перевод другу"
}
```

***Ответ:***

``` json
{
  "from_user_id": 2,
  "to_user_id": 1,
  "amount": 500.00,
  "comment": "Перевод другу"
}
```

***При невалидных параметрах возвращается код 400:***
``` json
{
    "status": "error",
    "message": "Невалидное значение {parameter}"
}
```

***Если баланс пользователя не найден, то возвращается код 404:***
``` json
{
    "status": "error",
    "message": "Баланс пользователя не найден."
}
```

***Если недостаточно среств для списания на балансе, то возвращается код 409:***
``` json
{
    "status": "error",
    "message": "Недостаточно средств для списания"
}
```

### *GET* Получение баланса

`/api/balance/{{userId}}`

***Ответ:***

``` json
{
    "user_id": 2,
    "balance": "500.00"
}
```

***При невалидном user_id возвращается код 400:***
``` json
{
    "status": "error",
    "message": "Невалидное значение user_id"
}
```

***Если баланс пользователя не найден, то возвращается код 404:***
``` json
{
    "status": "error",
    "message": "Баланс пользователя не найден."
}
```
